---
---

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@10/swiper-bundle.min.css" />

<section id="servicios" class="relative w-full h-full min-h-full creative-fullpage--slider">
  <div class="absolute inset-0 bg-gray-900"></div>

  <div class="relative z-10 w-full h-full min-h-full banner-horizental">
    <div class="swiper services-swiper swiper-container-h w-full h-full min-h-full">
      <div class="swiper-wrapper">
        {[
          {
            id: 'entrenamiento-personalizado',
            tag: 'TU PLAN',
            titulo: 'ENTRENAMIENTO',
            descripcion: 'Sesiones one-on-one diseñadas para tus objetivos específicos.',
            imagen: 'https://images.unsplash.com/photo-1571019613454-1cb2f99b2d8b?auto=format&fit=crop&q=60&w=1600'
          },
          {
            id: 'planes-nutricionales',
            tag: 'NUTRICIÓN',
            titulo: 'PERSONALIZADA',
            descripcion: 'Alimentación a tu medida para maximizar resultados y sostener hábitos.',
            imagen: 'https://images.unsplash.com/photo-1490645935967-10de6ba17061?auto=format&fit=crop&q=60&w=1600'
          },
          {
            id: 'asesoria-online',
            tag: 'DESDE CASA',
            titulo: 'ASESORÍA ONLINE',
            descripcion: 'Entrena desde donde estés con seguimiento virtual paso a paso.',
            imagen: 'https://images.unsplash.com/photo-1483058712412-4245e9b90334?auto=format&fit=crop&q=60&w=1600'
          },
          {
            id: 'seminarios-talleres',
            tag: 'APRENDE MÁS',
            titulo: 'SEMINARIOS / TALLERES',
            descripcion: 'Domina técnica, prevención de lesiones y mentalidad ganadora.',
            imagen: 'https://images.unsplash.com/photo-1503424886307-b090341d25d1?auto=format&fit=crop&q=60&w=1600'
          },
          {
            id: 'venta-articulos-deportivos',
            tag: 'EQUÍPATE',
            titulo: 'ARTÍCULOS DEPORTIVOS',
            descripcion: 'Accesorios y equipo para potenciar tu rendimiento.',
            imagen: 'https://images.unsplash.com/photo-1599050751795-5d0cf0e30f90?auto=format&fit=crop&q=60&w=1600'
          }
        ].map((s, index) => (
          <div class="swiper-slide relative w-full h-full min-h-full">
            <div class="slider-inner absolute inset-0" data-swiper-parallax="-120">
              <img src={s.imagen} alt={s.titulo} class="slide-img absolute inset-0 w-full h-full object-cover" loading={index === 0 ? 'eager' : 'lazy'} />
            </div>
            <div class="swiper-content relative z-10 max-w-5xl px-6 sm:px-10 lg:px-16" data-swiper-parallax="-400">
              <div class="mb-2 inline-flex items-center gap-2 px-3 py-1 rounded-full bg-black/40 backdrop-blur text-primary text-xs font-bold tracking-widest uppercase">SERVICIOS</div>
              <div class="title-area">
                <p class="tag">{s.tag}</p>
                <a href={`/servicios/${s.id}`} class="title text-primary"> {s.titulo} </a>
              </div>
              <p class="disc">{s.descripcion}</p>
              <div class="flex gap-4 items-center justify-center services-btn-container">
                <a href={`/servicios/${s.id}`} class="services-btn-primary inline-flex items-center px-6 py-3 rounded-lg text-gray-900 font-bold shadow transition-colors">Conoce más</a>
              </div>
            </div>
          </div>
        ))}
      </div>

      <!-- Navigation -->
      <div class="swiper-button-prev custom-arrow"></div>
      <div class="swiper-button-next custom-arrow"></div>

      <!-- Progressbar Pagination -->
      <div class="slider-pagination-area">
        <div class="swiper-pagination swiper-pagination-progressbar"></div>
      </div>
    </div>
  </div>

  <style>
    /* Permite scroll vertical (pan-y) para que el contenedor padre avance a la siguiente sección */
    .services-swiper { height: 100%; min-height: 100%; position: relative; touch-action: pan-y; background: #000; }
    .services-swiper .swiper-wrapper { backface-visibility: hidden; transform: translateZ(0); }
    .swiper-slide { margin: 0 !important; }
    .slider-inner { height: 100%; pointer-events: none; }
    .slider-inner .slide-img { pointer-events: none; object-position: center center; transform: scale(1.02); will-change: transform; }
    .slider-inner::after { content: none; }
    .swiper-slide { display: flex; align-items: center; justify-content: flex-start; text-align: left; overflow: hidden; }
    .swiper-content { position: relative; top: 0; margin-top: clamp(1rem, 8svh, 6rem); left: 50px; max-width: 58ch; pointer-events: auto; }

    .title-area .tag { 
      color: #ffffff; 
      font-weight: 900; 
      font-size: 22px; 
      margin: 0 0 10px 0;
      text-shadow: 
        -0.5px -0.5px 0 rgba(0, 0, 0, 0.8),
        0.5px -0.5px 0 rgba(0, 0, 0, 0.8),
        -0.5px 0.5px 0 rgba(0, 0, 0, 0.8),
        0.5px 0.5px 0 rgba(0, 0, 0, 0.8),
        0 2px 4px rgba(0, 0, 0, 0.5),
        0 4px 8px rgba(0, 0, 0, 0.3);
    }
    .title-area .title { 
      margin-top: 30px; 
      color: #fff; 
      font-size: clamp(42px, 8vw, 112px); 
      font-family: Inter, ui-sans-serif, system-ui; 
      font-weight: 900; 
      line-height: 1.05; 
      text-transform: uppercase; 
      margin-bottom: 32px; 
      margin-left: -12px; 
      text-decoration: none; 
      display: inline-block;
      text-shadow: 
        -1px -1px 0 rgba(0, 0, 0, 0.7),
        1px -1px 0 rgba(0, 0, 0, 0.7),
        -1px 1px 0 rgba(0, 0, 0, 0.7),
        1px 1px 0 rgba(0, 0, 0, 0.7),
        0 3px 6px rgba(0, 0, 0, 0.4),
        0 6px 12px rgba(0, 0, 0, 0.3);
    }
    .disc { 
      font-size: 20px; 
      color: #FFFFFFB0; 
      line-height: 32px; 
      margin: 20px 0 28px;
      text-shadow: 
        -0.5px -0.5px 0 rgba(0, 0, 0, 0.8),
        0.5px -0.5px 0 rgba(0, 0, 0, 0.8),
        -0.5px 0.5px 0 rgba(0, 0, 0, 0.8),
        0.5px 0.5px 0 rgba(0, 0, 0, 0.8),
        0 2px 4px rgba(0, 0, 0, 0.5),
        0 4px 8px rgba(0, 0, 0, 0.3);
    }
    
    /* Botón con color verde correcto */
    .services-btn-primary {
      background-color: #4FFF85 !important;
      color: #1a1a1a !important;
    }
    .services-btn-primary:hover {
      background-color: #7CFF9F !important;
    }
    
    /* Textos con color verde correcto y borde negro delgado con sombra */
    .text-primary {
      color: #4FFF85 !important;
      text-shadow: 
        -1px -1px 0 rgba(0, 0, 0, 0.7),
        1px -1px 0 rgba(0, 0, 0, 0.7),
        -1px 1px 0 rgba(0, 0, 0, 0.7),
        1px 1px 0 rgba(0, 0, 0, 0.7),
        0 3px 6px rgba(0, 0, 0, 0.4),
        0 6px 12px rgba(0, 0, 0, 0.3) !important;
    }

    .custom-arrow { background: rgba(255,255,255,.08); backdrop-filter: blur(20px); width: 72px; height: 72px; border-radius: 9999px; position: absolute; top: 50%; transform: translateY(-50%); z-index: 40; }
    .custom-arrow::after { color: rgba(255,255,255,.95); font-size: 28px; }
    .swiper-button-next.custom-arrow { right: 32px; }
    .swiper-button-prev.custom-arrow { left: 32px; }

    .slider-pagination-area { position: absolute; bottom: 48px; left: 50%; transform: translateX(-50%); width: 420px; display: flex; align-items: center; justify-content: center; z-index: 30; }
    .swiper-pagination-progressbar { position: relative !important; height: 4px; width: 100% !important; background: rgba(255,255,255,.25); border-radius: 9999px; overflow: hidden; }
    .swiper-pagination-progressbar .swiper-pagination-progressbar-fill { background: #fff; }

    @media (max-width: 991px) {
      .swiper-content { left: 0; top: 0; margin-top: clamp(0.5rem, 7svh, 4rem); text-align: center; max-width: 100%; }
      .title-area .title { margin-left: 0; font-size: clamp(38px, 10vw, 84px); }
      .slider-pagination-area { width: 240px; bottom: 24px; }
      .custom-arrow { width: 52px; height: 52px; }
    }
    @media (max-width: 640px) {
      .creative-fullpage--slider {
        height: 100svh;
        min-height: 100svh;
      }
      .banner-horizental {
        height: 100%;
        min-height: 100%;
      }
      .services-swiper {
        height: 100%;
        min-height: 100%;
      }
      .swiper-slide {
        align-items: flex-start;
        justify-content: center;
      }
      .swiper-content {
        position: relative;
        top: 0;
        left: 0;
        margin-top: 0;
        padding: clamp(0.25rem, 2svh, 0.75rem) 1rem clamp(0.125rem, 0.5svh, 0.5rem);
        max-width: 100%;
        width: 100%;
        height: calc(100svh - var(--header-h, 64px));
        min-height: calc(100svh - var(--header-h, 64px));
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        box-sizing: border-box;
      }
      .services-btn-container {
        justify-content: center !important;
        width: 100%;
      }
      .services-btn-primary {
        font-size: clamp(16px, 3.5svh, 18px) !important;
        padding: clamp(0.75rem, 2.5svh, 0.875rem) clamp(1.75rem, 5vw, 2.5rem) !important;
      }
      .title-area {
        flex-shrink: 0;
      }
      .title-area .tag {
        font-size: clamp(14px, 3.5svh, 18px);
        margin-bottom: clamp(0.5rem, 1.5svh, 0.75rem);
        text-shadow: 
          -0.5px -0.5px 0 rgba(0, 0, 0, 0.8),
          0.5px -0.5px 0 rgba(0, 0, 0, 0.8),
          -0.5px 0.5px 0 rgba(0, 0, 0, 0.8),
          0.5px 0.5px 0 rgba(0, 0, 0, 0.8),
          0 2px 4px rgba(0, 0, 0, 0.5),
          0 4px 8px rgba(0, 0, 0, 0.3);
      }
      .title-area .title {
        font-size: clamp(32px, 12vw, 64px);
        margin-top: clamp(0.25rem, 1.5svh, 0.75rem);
        margin-bottom: clamp(0.25rem, 1.5svh, 0.75rem);
        text-shadow: 
          -0.75px -0.75px 0 rgba(0, 0, 0, 0.7),
          0.75px -0.75px 0 rgba(0, 0, 0, 0.7),
          -0.75px 0.75px 0 rgba(0, 0, 0, 0.7),
          0.75px 0.75px 0 rgba(0, 0, 0, 0.7),
          0 2px 4px rgba(0, 0, 0, 0.4),
          0 4px 8px rgba(0, 0, 0, 0.3);
      }
      .disc {
        font-size: clamp(18px, 4svh, 22px);
        line-height: clamp(26px, 5.5svh, 32px);
        margin: clamp(0.25rem, 1.5svh, 0.75rem) 0;
        flex-shrink: 0;
        text-shadow: 
          -0.5px -0.5px 0 rgba(0, 0, 0, 0.8),
          0.5px -0.5px 0 rgba(0, 0, 0, 0.8),
          -0.5px 0.5px 0 rgba(0, 0, 0, 0.8),
          0.5px 0.5px 0 rgba(0, 0, 0, 0.8),
          0 2px 4px rgba(0, 0, 0, 0.5),
          0 4px 8px rgba(0, 0, 0, 0.3);
      }
      .services-btn-container {
        flex-shrink: 0;
        margin-top: 0;
      }
      .text-primary {
        text-shadow: 
          -0.75px -0.75px 0 rgba(0, 0, 0, 0.7),
          0.75px -0.75px 0 rgba(0, 0, 0, 0.7),
          -0.75px 0.75px 0 rgba(0, 0, 0, 0.7),
          0.75px 0.75px 0 rgba(0, 0, 0, 0.7),
          0 2px 4px rgba(0, 0, 0, 0.4),
          0 4px 8px rgba(0, 0, 0, 0.3) !important;
      }
      .slider-pagination-area {
        bottom: clamp(0.25rem, 1svh, 0.75rem);
        position: absolute;
      }
      .custom-arrow { display: none; }
    }
  </style>

  <script>
    (function(){
      const SWIPER_SRC = 'https://cdn.jsdelivr.net/npm/swiper@10/swiper-bundle.min.js';
      function loadSwiper(){
        return new Promise((resolve, reject) => {
          if (window.Swiper) return resolve();
          if (window.__loadingSwiper) return window.__loadingSwiper.then(resolve).catch(reject);
          const s = document.createElement('script');
          s.src = SWIPER_SRC; s.async = true;
          s.onload = () => resolve();
          s.onerror = (e) => reject(e);
          document.head.appendChild(s);
          window.__loadingSwiper = new Promise((res, rej)=>{ s.addEventListener('load', res); s.addEventListener('error', rej); });
        });
      }
      function init(){
        const container = document.querySelector('.services-swiper');
        if (!container || container.dataset.initialized === 'true') return;
        container.dataset.initialized = 'true';
        const swiper = new window.Swiper(container, {
          direction: 'horizontal',
          slidesPerView: 1,
          spaceBetween: 0,
          roundLengths: true,
          loop: true,
          speed: 1200,
          parallax: true,
          autoplay: { delay: 9000, disableOnInteraction: false },
          allowTouchMove: true,
          grabCursor: true,
          simulateTouch: true,
          touchStartPreventDefault: false,
          mousewheel: { forceToAxis: true, sensitivity: 1, releaseOnEdges: true },
          touchReleaseOnEdges: true,
          keyboard: { enabled: true, onlyInViewport: true },
          navigation: { nextEl: '.swiper-button-next', prevEl: '.swiper-button-prev' },
          pagination: { el: '.swiper-pagination', type: 'progressbar' },
          observer: true,
          observeParents: true
        });
        window.__servicesSwiper = swiper;

        // Cuando llega a los bordes, permitir que el scroll vertical pase al contenedor padre
        const parentScroller = document.querySelector('.snap-container');
        // No bloquear wheel vertical
        container.addEventListener('wheel', (e) => {
          // Si el movimiento es principalmente vertical, no hagas nada (deja que el contenedor maneje)
          if (Math.abs(e.deltaY) > Math.abs(e.deltaX)) {
            // En desktops, el wheel ya burbujea; no preventDefault aquí
            return;
          }
        }, { passive: true });
        // Liberar swipe vertical en móvil (no prevenir por Swiper)
        container.addEventListener('touchmove', (e) => {
          // Si el desplazamiento es vertical, permitir burbuja
          // No llamamos preventDefault
        }, { passive: true });
      }
      function start(){ loadSwiper().then(init).catch(()=>{}); }
      if(document.readyState==='loading'){ document.addEventListener('DOMContentLoaded', start); } else { start(); }
    })();
  </script>
</section>
