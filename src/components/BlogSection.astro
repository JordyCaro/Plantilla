---
const blogPosts = [
  {
    title: "5 Errores Comunes que Te Impiden Perder Peso",
    excerpt: "Descubre los errores más frecuentes en la pérdida de peso y cómo evitarlos para alcanzar tus objetivos de forma más eficiente.",
    image: "https://images.unsplash.com/photo-1625998118581-33ba7b4e6ceb?q=80&w=2070&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",
    thumb: "https://images.unsplash.com/photo-1634463278803-f9f71890e67d?q=80&w=2070&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",
    date: "15 Ene 2024",
    category: "Nutrición",
    readTime: "5 min",
    slug: "errores-comunes-perder-peso"
  },
  {
    title: "La Mentalidad Ganadora: Cómo Mantener la Motivación",
    excerpt: "La clave del éxito no está solo en el entrenamiento, sino en desarrollar una mentalidad fuerte que te impulse hacia tus metas.",
    image: "https://images.unsplash.com/photo-1499209974431-9dddcece7f88?q=80&w=2070&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",
    thumb: "https://images.unsplash.com/photo-1579600161224-cac5a2971069?q=80&w=2071&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",
    date: "12 Ene 2024",
    category: "Motivación",
    readTime: "7 min",
    slug: "mentalidad-ganadora-motivacion"
  },
  {
    title: "Rutina de Entrenamiento para Principiantes",
    excerpt: "Si eres nuevo en el gym, esta guía te ayudará a comenzar con el pie derecho y evitar lesiones comunes.",
    image: "https://images.unsplash.com/photo-1738321791387-a11c55f52d7a?q=80&w=2070&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",
    thumb: "https://images.unsplash.com/photo-1552196563-55cd4e45efb3?auto=format&fit=crop&q=80&w=480",
    date: "10 Ene 2024",
    category: "Entrenamiento",
    readTime: "8 min",
    slug: "rutina-principiantes-gym"
  },
  {
    title: "Los Mejores Alimentos para Ganar Músculo",
    excerpt: "Descubre qué comer para maximizar tus ganancias musculares y optimizar tu recuperación post-entrenamiento.",
    image: "https://images.unsplash.com/photo-1612215047504-a6c07dbe4f7f?q=80&w=2070&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",
    thumb: "https://images.unsplash.com/photo-1642339800099-921df1a0a958?q=80&w=2070&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",
    date: "8 Ene 2024",
    category: "Nutrición",
    readTime: "6 min",
    slug: "alimentos-ganar-musculo"
  },
  {
    title: "Cómo Superar el Estancamiento en el Gym",
    excerpt: "Si sientes que no progresas, estos consejos te ayudarán a romper la meseta y seguir avanzando hacia tus objetivos.",
    image: "https://images.unsplash.com/photo-1759300642292-ffe3cb347548?q=80&w=1974&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",
    thumb: "https://images.unsplash.com/photo-1543975200-8e313fb04b3b?auto=format&fit=crop&q=80&w=480",
    date: "5 Ene 2024",
    category: "Entrenamiento",
    readTime: "9 min",
    slug: "superar-estancamiento-gym"
  },
  {
    title: "DisciplinA: 7 Hábitos para No Abandonar",
    excerpt: "Pequeños hábitos diarios que te mantienen constante incluso cuando falta motivación.",
    image: "https://images.unsplash.com/photo-1758223521209-f70658aa6bb6?q=80&w=1974&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",
    thumb: "https://images.unsplash.com/photo-1506126613408-eca07ce68773?q=80&w=1999&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",
    date: "2 Ene 2024",
    category: "Motivación",
    readTime: "6 min",
    slug: "habitos-disciplina-gym"
  },
  {
    title: "HIIT vs Cardio Lento: ¿Cuál te Conviene?",
    excerpt: "Compara beneficios, riesgos y cuándo usar cada método para quemar grasa.",
    image: "https://images.unsplash.com/photo-1608138404239-d2f557515ecb?q=80&w=2070&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",
    thumb: "https://images.unsplash.com/photo-1723117418780-1b74b25af9bc?q=80&w=1470&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",
    date: "30 Dic 2023",
    category: "Entrenamiento",
    readTime: "7 min",
    slug: "hiit-vs-cardio"
  },
  {
    title: "Desayunos Altos en Proteína para tu Mañana",
    excerpt: "Ideas rápidas, ricas y balanceadas para iniciar el día con energía.",
    image: "https://images.unsplash.com/photo-1540189549336-e6e99c3679fe?auto=format&fit=crop&q=80&w=1200",
    thumb: "https://images.unsplash.com/photo-1526318472351-c75fcf070305?auto=format&fit=crop&q=80&w=480",
    date: "27 Dic 2023",
    category: "Nutrición",
    readTime: "5 min",
    slug: "desayunos-altos-proteina"
  },
  {
    title: "Piernas Fuertes: Guía de Técnica en Sentadilla",
    excerpt: "Claves para mejorar tu forma, prevenir lesiones y ganar fuerza real.",
    image: "https://images.unsplash.com/photo-1536922246289-88c42f957773?q=80&w=1504&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",
    thumb: "https://images.unsplash.com/photo-1649887974297-4be052375a67?q=80&w=687&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",
    date: "22 Dic 2023",
    category: "Entrenamiento",
    readTime: "9 min",
    slug: "tecnica-sentadilla"
  }
];
---

<section id="blog" class="blog-section">
  <div class="blog-container">
    <!-- Section Header -->
    <div class="blog-header">
      <h2 class="blog-title">
        <span class="blog-title-text">Consejos y Tips</span> <span class="blog-title-accent">fitness</span> para mejorar tu rendimiento y salud
      </h2>
      <p class="blog-subtitle">
        Contenidos prácticos y <span class="blog-subtitle-accent">profesionales</span> sobre <span class="blog-subtitle-accent">entrenamiento</span>, <span class="blog-subtitle-accent">nutrición</span> y <span class="blog-subtitle-accent">mentalidad</span> para avanzar con seguridad.
      </p>
    </div>

    <!-- Slider -->
    <div class="blog-slider">
      <button class="blog-nav blog-nav-prev" id="blog-nav-prev" aria-label="Artículo anterior">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
          <path d="M15 18l-6-6 6-6"/>
        </svg>
      </button>
      <div class="blog-track" id="blog-track">
        {blogPosts.map((post, i) => (
          <article class="blog-card" data-index={i} {...(i === 0 ? { 'data-active': true } : {})}>
            <img class="blog-card-bg" src={post.image} alt={post.title} loading="lazy" decoding="async" />
            <div class="blog-card-content">
              <img class="blog-card-thumb" src={post.thumb || post.image} alt={`${post.title} miniatura`} loading="lazy" decoding="async" />
              <div class="blog-card-text">
                <h3 class="blog-card-title">{post.title}</h3>
                <p class="blog-card-desc">{post.excerpt}</p>
                <a href={`/blog/${post.slug}`} class="blog-card-btn">Leer más</a>
              </div>
            </div>
          </article>
        ))}
      </div>
      <button class="blog-nav blog-nav-next" id="blog-nav-next" aria-label="Artículo siguiente">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
          <path d="M9 18l6-6-6-6"/>
        </svg>
      </button>
    </div>

    <!-- Dots Navigation -->
    <div class="blog-dots" id="blog-dots"></div>
  </div>
</section>

<style>
  /* Blog Section - Sin scroll interno, todo debe caber */
  .blog-section {
    position: relative;
    width: 100%;
    min-height: 100svh;
    display: flex;
    align-items: stretch;
    justify-content: stretch;
    overflow: hidden;
    box-sizing: border-box;
    background-color: #111827;
  }

  .blog-container {
    position: relative;
    z-index: 10;
    width: 100%;
    max-width: 1400px;
    margin: 0 auto;
    height: 100svh;
    min-height: 100svh;
    display: flex;
    flex-direction: column;
    padding: var(--header-h, 64px) clamp(1rem, min(4vw, 2rem), 2rem) clamp(0.125rem, 0.5svh, 0.5rem);
    padding-top: var(--header-h, 64px);
    padding-bottom: clamp(0.125rem, 0.5svh, 0.5rem);
    box-sizing: border-box;
    overflow: hidden;
  }

  /* Header */
  .blog-header {
    text-align: center;
    padding: clamp(0.75rem, 2svh, 1.5rem) 0;
    flex-shrink: 0;
    box-sizing: border-box;
  }

  .blog-title {
    font-size: clamp(1.75rem, 6vw, 2.25rem);
    font-weight: 900;
    color: #ffffff;
    line-height: 1.15;
    margin: 0 0 clamp(0.5rem, 1.5svh, 0.75rem) 0;
    letter-spacing: 0.02em;
    position: relative;
    display: inline-block;
    padding-bottom: clamp(0.4rem, 1.2svh, 0.6rem);
  }

  .blog-title::after {
    content: "";
    position: absolute;
    left: 50%;
    transform: translateX(-50%);
    bottom: 0;
    width: 72%;
    height: 3px;
    background: linear-gradient(90deg, transparent, #00FF88, transparent);
    border-radius: 9999px;
    opacity: 0.9;
  }

  .blog-title-text {
    color: #ffffff;
  }

  .blog-title-accent {
    color: #00FF88;
  }

  .blog-subtitle {
    font-size: clamp(0.9375rem, 2.2svh, 1.125rem);
    color: #d1d5db;
    max-width: 48rem;
    margin: 0 auto;
    line-height: 1.5;
  }

  .blog-subtitle-accent {
    color: #00FF88;
  }

  /* Slider */
  .blog-slider {
    flex: 1;
    max-width: 1400px;
    width: 100%;
    margin: 0 auto;
    overflow: hidden;
    display: flex;
    align-items: center;
    position: relative;
    min-height: 0;
    box-sizing: border-box;
  }

  .blog-track {
    display: flex;
    gap: clamp(0.8rem, 2svh, 1.25rem);
    align-items: center;
    justify-content: flex-start;
    scroll-behavior: smooth;
    scroll-snap-type: x mandatory;
    padding: 0 clamp(2rem, 5vw, 4rem) clamp(0.5rem, 1.5svh, 1rem);
    height: 100%;
    width: 100%;
    overflow-x: auto;
    overflow-y: hidden;
    scrollbar-width: none;
    -ms-overflow-style: none;
    -webkit-overflow-scrolling: touch;
    box-sizing: border-box;
  }

  .blog-track::-webkit-scrollbar {
    display: none;
  }

  /* Cards */
  .blog-card {
    position: relative;
    flex: 0 0 clamp(5rem, 12vw, 8rem);
    height: min(32rem, 60dvh);
    border-radius: 1rem;
    overflow: visible;
    cursor: pointer;
    transition: flex-basis 0.55s cubic-bezier(0.25, 0.46, 0.45, 0.94), transform 0.55s cubic-bezier(0.25, 0.46, 0.45, 0.94);
    scroll-snap-align: center;
    scroll-snap-stop: always;
    box-sizing: border-box;
  }

  .blog-card-bg {
    overflow: hidden;
    border-radius: 1rem;
  }

  .blog-card[data-active] {
    flex-basis: clamp(18rem, min(45vw, 28rem), 28rem);
    transform: translateY(-6px);
    box-shadow: 0 18px 55px rgba(0, 0, 0, 0.45);
  }

  .blog-card-bg {
    position: absolute;
    inset: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
    filter: brightness(0.75) saturate(75%);
    transition: filter 0.3s, transform 0.55s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  }

  .blog-card:hover .blog-card-bg {
    filter: brightness(0.9) saturate(100%);
    transform: scale(1.06);
  }

  .blog-card-content {
    position: absolute;
    inset: 0;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    gap: 0.7rem;
    padding: 0;
    background: linear-gradient(transparent 40%, rgba(0, 0, 0, 0.85) 100%);
    z-index: 2;
    box-sizing: border-box;
    overflow: visible;
  }

  .blog-card[data-active] .blog-card-content {
    flex-direction: row;
    align-items: center;
    padding: clamp(1rem, 2.5svh, 1.5rem) clamp(1rem, min(3vw, 1.5rem), 1.5rem);
    gap: clamp(0.75rem, min(2svh, 1.25rem), 1.25rem);
    overflow: hidden;
  }

  .blog-card-title {
    color: #ffffff;
    font-weight: 800;
    font-size: clamp(1rem, 2.5svh, 1.25rem);
    writing-mode: vertical-rl;
    transform: rotate(180deg);
    margin: 0;
    word-wrap: break-word;
    overflow-wrap: break-word;
  }

  .blog-card[data-active] .blog-card-title {
    writing-mode: horizontal-tb;
    transform: none;
    font-size: clamp(1.375rem, min(3.5vw, 1.75rem), 1.75rem);
    line-height: 1.2;
  }

  .blog-card-thumb,
  .blog-card-desc,
  .blog-card-btn {
    display: none;
  }

  .blog-card[data-active] .blog-card-thumb,
  .blog-card[data-active] .blog-card-desc,
  .blog-card[data-active] .blog-card-btn {
    display: block;
  }

  .blog-card-text {
    display: flex;
    flex-direction: column;
    gap: clamp(0.75rem, 2svh, 1rem);
    flex: 1;
    min-width: 0;
    max-width: 100%;
    overflow: hidden;
  }

  .blog-card-thumb {
    width: clamp(90px, min(20vw, 120px), 120px);
    height: clamp(180px, min(40vw, 240px), 240px);
    border-radius: 0.45rem;
    object-fit: cover;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.4);
    flex-shrink: 0;
  }

  .blog-card-desc {
    color: #dddddd;
    font-size: clamp(0.875rem, 2svh, 1rem);
    line-height: 1.4;
    max-width: min(16rem, 100%);
    margin: 0;
    word-wrap: break-word;
    overflow-wrap: break-word;
  }

  .blog-card-btn {
    padding: clamp(0.5rem, 1.5svh, 0.75rem) clamp(1rem, 2.5vw, 1.5rem);
    border: none;
    border-radius: 9999px;
    background-color: #00FF88;
    color: #0b0b0b;
    font-size: clamp(0.8125rem, 2svh, 0.9rem);
    font-weight: 800;
    cursor: pointer;
    text-decoration: none;
    display: inline-block;
    transition: filter 0.3s;
    align-self: flex-start;
  }

  .blog-card-btn:hover {
    filter: brightness(1.1);
  }

  /* Dots */
  .blog-dots {
    display: flex;
    gap: 0.5rem;
    justify-content: center;
    padding: clamp(0.5rem, 1.5svh, 1rem) 0;
    flex-shrink: 0;
    box-sizing: border-box;
  }

  .blog-dot {
    width: 13px;
    height: 13px;
    border-radius: 50%;
    background-color: rgba(255, 255, 255, 0.35);
    cursor: pointer;
    transition: all 0.3s;
    border: none;
    padding: 0;
  }

  .blog-dot.active {
    background-color: #00FF88;
    transform: scale(1.2);
  }

  /* Navigation Arrows */
  .blog-nav {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    z-index: 30;
    width: 48px;
    height: 48px;
    border-radius: 50%;
    background-color: rgba(0, 0, 0, 0.6);
    backdrop-filter: blur(10px);
    border: 2px solid rgba(255, 255, 255, 0.2);
    color: #ffffff;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.3s ease;
    opacity: 0.8;
    padding: 0;
    box-sizing: border-box;
  }

  .blog-nav:hover {
    background-color: rgba(0, 255, 136, 0.2);
    border-color: #00FF88;
    opacity: 1;
    transform: translateY(-50%) scale(1.1);
  }

  .blog-nav:active {
    transform: translateY(-50%) scale(0.95);
  }

  .blog-nav:disabled {
    opacity: 0.3;
    cursor: not-allowed;
    pointer-events: none;
  }

  .blog-nav-prev {
    left: clamp(0.5rem, 2vw, 1rem);
  }

  .blog-nav-next {
    right: clamp(0.5rem, 2vw, 1rem);
  }

  .blog-nav svg {
    width: 20px;
    height: 20px;
    stroke: currentColor;
  }

  /* Responsive - Mobile */
  @media (max-width: 767px) {
    .blog-container {
      padding: 0 clamp(1rem, 4vw, 1.5rem) clamp(0.125rem, 0.5svh, 0.5rem);
      padding-top: var(--header-h, 64px);
      height: 100svh;
      min-height: 100svh;
    }
    .blog-header {
      padding: clamp(0.5rem, 1.5svh, 1rem) 0 clamp(0.25rem, 1svh, 0.5rem);
    }
    .blog-title {
      font-size: clamp(1.5rem, 5vw, 2rem);
      margin-bottom: clamp(0.375rem, 1svh, 0.5rem);
      padding-bottom: clamp(0.3rem, 1svh, 0.5rem);
    }
    .blog-subtitle {
      font-size: clamp(0.875rem, 2svh, 1rem);
    }
    .blog-slider {
      overflow-y: auto;
      overflow-x: hidden;
      -webkit-overflow-scrolling: touch;
      flex: 1;
      height: auto;
      min-height: 0;
      padding-top: 0;
    }
    .blog-track {
      flex-direction: column;
      align-items: stretch;
      scroll-snap-type: y mandatory;
      gap: clamp(0.75rem, 2svh, 1rem);
      padding: 0 0 clamp(0.5rem, 1.5svh, 1rem);
      height: auto;
      min-height: 1px;
      width: 100%;
      overflow-x: hidden;
      overflow-y: auto;
      align-content: start;
      scroll-padding-top: 0;
    }
    .blog-card {
      height: auto;
      min-height: clamp(10rem, 25svh, 14rem);
      flex: 0 0 auto;
      width: 100%;
      scroll-snap-align: start;
      scroll-snap-stop: always;
      max-height: none;
      overflow: visible;
      display: flex;
      flex-direction: column;
      margin: 0;
      padding: 0;
    }
    .blog-card-bg {
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      width: 100%;
      height: 100%;
      border-radius: 1rem;
      overflow: hidden;
      z-index: 0;
      object-fit: cover;
    }
    .blog-card-content {
      position: relative;
      z-index: 1;
      flex: 1;
      display: flex;
      flex-direction: row;
      justify-content: flex-start;
      align-items: flex-start;
      padding: clamp(0.75rem, 2svh, 1.25rem);
      gap: clamp(0.75rem, 2svh, 1rem);
      min-height: 100%;
      overflow: visible;
      background: linear-gradient(to bottom, transparent 0%, transparent 30%, rgba(0, 0, 0, 0.7) 70%, rgba(0, 0, 0, 0.9) 100%);
      border-radius: 1rem;
      margin: 0;
      box-sizing: border-box;
    }
    .blog-card[data-active] {
      min-height: clamp(14rem, 35svh, 20rem);
      transform: none;
      box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
    }
    .blog-card[data-active] .blog-card-content {
      min-height: auto;
      padding: clamp(0.875rem, 2svh, 1.25rem);
    }
    .blog-card-title {
      writing-mode: horizontal-tb;
      transform: none;
      font-size: clamp(1rem, 2.5svh, 1.35rem);
      margin: 0;
      line-height: 1.3;
    }
    .blog-card-thumb,
    .blog-card-desc,
    .blog-card-btn {
      display: none;
    }
    .blog-card[data-active] .blog-card-content {
      align-items: flex-start;
      padding: clamp(0.875rem, 2svh, 1.25rem);
      gap: clamp(0.75rem, 2svh, 1rem);
    }
    .blog-card[data-active] .blog-card-title {
      font-size: clamp(1.125rem, 3vw, 1.5rem);
      margin-bottom: clamp(0.5rem, 1.5svh, 0.75rem);
      line-height: 1.2;
    }
    .blog-card[data-active] .blog-card-thumb,
    .blog-card[data-active] .blog-card-desc,
    .blog-card[data-active] .blog-card-btn {
      display: block;
    }
    .blog-card-text {
      flex: 1;
      min-width: 0;
      display: flex;
      flex-direction: column;
      gap: clamp(0.5rem, 1.5svh, 0.75rem);
    }
    .blog-card-thumb {
      width: clamp(70px, 18vw, 100px);
      height: clamp(100px, 25vw, 150px);
      flex-shrink: 0;
    }
    .blog-card-desc {
      font-size: clamp(0.8125rem, 1.8svh, 0.9375rem);
      max-width: 100%;
      margin: 0;
      line-height: 1.4;
      flex: 1;
    }
    .blog-card-btn {
      padding: clamp(0.5rem, 1.5svh, 0.625rem) clamp(1rem, 2.5vw, 1.25rem);
      font-size: clamp(0.75rem, 1.8svh, 0.875rem);
      align-self: flex-start;
      margin-top: auto;
    }
    .blog-dots {
      display: none;
    }
    .blog-nav {
      width: 40px;
      height: 40px;
    }
    .blog-nav svg {
      width: 18px;
      height: 18px;
    }
    .blog-nav-prev {
      left: clamp(0.25rem, 1vw, 0.5rem);
    }
    .blog-nav-next {
      right: clamp(0.25rem, 1vw, 0.5rem);
    }
  }

  /* Responsive - Tablet */
  @media (min-width: 768px) and (max-width: 1023px) {
    .blog-container {
      padding-left: clamp(1rem, 3vw, 1.5rem);
      padding-right: clamp(1rem, 3vw, 1.5rem);
    }
    .blog-header {
      padding: clamp(1rem, 2.5svh, 1.5rem) 0;
    }
    .blog-title {
      font-size: clamp(1.75rem, 5vw, 2rem);
    }
    .blog-subtitle {
      font-size: clamp(0.9375rem, 2.2svh, 1.0625rem);
    }
    .blog-card {
      flex: 0 0 clamp(4.5rem, 10vw, 7rem);
    }
    .blog-card[data-active] {
      flex-basis: clamp(16rem, min(42vw, 24rem), 24rem);
    }
    .blog-card-thumb {
      width: clamp(80px, min(18vw, 110px), 110px);
      height: clamp(160px, min(36vw, 220px), 220px);
    }
    .blog-card-desc {
      max-width: min(14rem, 100%);
    }
  }

  /* Responsive - Desktop pequeño-mediano */
  @media (min-width: 1024px) and (max-width: 1366px) {
    .blog-container {
      padding-left: clamp(1.5rem, 4vw, 2rem);
      padding-right: clamp(1.5rem, 4vw, 2rem);
    }
    .blog-header {
      padding: clamp(1.25rem, 3svh, 1.75rem) 0;
    }
    .blog-title {
      font-size: clamp(2rem, 6vw, 2.25rem);
    }
    .blog-subtitle {
      font-size: clamp(1rem, 2.5svh, 1.125rem);
    }
    .blog-card[data-active] {
      flex-basis: clamp(18rem, min(42vw, 26rem), 26rem);
    }
    .blog-card-thumb {
      width: clamp(95px, min(18vw, 115px), 115px);
      height: clamp(190px, min(36vw, 230px), 230px);
    }
  }

  /* Responsive - Desktop grande */
  @media (min-width: 1367px) {
    .blog-header {
      padding: clamp(1.25rem, 3svh, 2rem) 0;
    }
    .blog-title {
      font-size: clamp(2.25rem, 6vw, 2.5rem);
    }
    .blog-subtitle {
      font-size: clamp(1.125rem, 2.8svh, 1.25rem);
    }
  }

  /* Fallback para pantallas con poca altura */
  @media (max-height: 600px) {
    .blog-container {
      padding-top: var(--header-h, 64px);
      padding-bottom: clamp(0.125rem, 0.5svh, 0.5rem);
    }
    .blog-header {
      padding: clamp(0.5rem, 1.2svh, 0.75rem) 0;
    }
    .blog-title {
      font-size: clamp(1.5rem, 5vw, 1.75rem);
      margin-bottom: clamp(0.25rem, 0.8svh, 0.5rem);
      padding-bottom: clamp(0.25rem, 0.8svh, 0.4rem);
    }
    .blog-subtitle {
      font-size: clamp(0.8125rem, 1.8svh, 0.95rem);
    }
    .blog-card {
      height: min(26rem, 52dvh);
    }
    .blog-card[data-active] {
      flex-basis: clamp(16rem, min(40vw, 22rem), 22rem);
      min-height: clamp(14rem, 38svh, 18rem);
    }
    .blog-card-thumb {
      width: clamp(80px, min(18vw, 100px), 100px);
      height: clamp(150px, min(35vw, 200px), 200px);
    }
  }
</style>

<script is:inline>
  (function() {
    const track = document.getElementById('blog-track');
    const cards = Array.from((track && track.children) || []);
    const dotsBox = document.getElementById('blog-dots');
    const FALLBACK_BG = 'https://images.unsplash.com/photo-1517836357463-d25dfeac3438?auto=format&fit=crop&q=80&w=1200';
    const FALLBACK_THUMB = 'https://images.unsplash.com/photo-1552196563-55cd4e45efb3?auto=format&fit=crop&q=80&w=480';

    const isMobile = () => matchMedia('(max-width:767px)').matches;

    // Build dots
    if (dotsBox && cards.length > 0) {
      cards.forEach((_, i) => {
        const dot = document.createElement('button');
        dot.className = 'blog-dot';
        dot.setAttribute('aria-label', `Ir al artículo ${i + 1}`);
        dot.onclick = () => activate(i, true);
        dotsBox.appendChild(dot);
      });
    }
    const dots = Array.from((dotsBox && dotsBox.children) || []);

    let current = 0;

    // Ensure images always present (fallbacks on error)
    document.querySelectorAll('img.blog-card-bg').forEach((img) => {
      img.addEventListener('error', () => { img.src = FALLBACK_BG; }, { once: true });
    });
    document.querySelectorAll('img.blog-card-thumb').forEach((img) => {
      img.addEventListener('error', () => { img.src = FALLBACK_THUMB; }, { once: true });
    });

    function center(i) {
      if (!cards[i] || !track) return;
      const card = cards[i];
      if (isMobile()) {
        const start = card.offsetTop;
        track.scrollTo({ top: start - (track.clientHeight / 2 - card.clientHeight / 2), behavior: 'smooth' });
      } else {
        const cardLeft = card.offsetLeft;
        const cardWidth = card.offsetWidth;
        const trackWidth = track.clientWidth;
        const scrollLeft = cardLeft - (trackWidth / 2 - cardWidth / 2);
        track.scrollTo({ left: Math.max(0, scrollLeft), behavior: 'smooth' });
      }
    }

    function toggleUI(i) {
      cards.forEach((c, k) => c.toggleAttribute('data-active', k === i));
      dots.forEach((d, k) => d.classList.toggle('active', k === i));
    }

    function updateNavButtons() {
      const prevBtn = document.getElementById('blog-nav-prev');
      const nextBtn = document.getElementById('blog-nav-next');
      if (prevBtn) prevBtn.disabled = current === 0;
      if (nextBtn) nextBtn.disabled = current === cards.length - 1;
    }

    function activate(i, scroll) {
      if (i < 0 || i >= cards.length) return;
      if (i === current && !scroll) return;
      current = i;
      toggleUI(i);
      updateNavButtons();
      if (scroll) center(i);
    }

    function go(step) {
      const newIndex = current + step;
      const target = Math.min(Math.max(newIndex, 0), cards.length - 1);
      if (target !== current) {
        activate(target, true);
      }
    }

    // Keyboard and mouse/touch interactions
    addEventListener('keydown', (e) => {
      if (['ArrowRight', 'ArrowDown'].includes(e.key)) go(1);
      if (['ArrowLeft', 'ArrowUp'].includes(e.key)) go(-1);
    }, { passive: true });

    cards.forEach((card, i) => {
      card.addEventListener('mouseenter', () => {
        if (matchMedia('(hover:hover)').matches) activate(i, true);
      });
      card.addEventListener('click', () => activate(i, true));
    });

    let sx = 0, sy = 0;
    if (track) {
      track.addEventListener('touchstart', (e) => {
        sx = e.touches[0].clientX;
        sy = e.touches[0].clientY;
      }, { passive: true });
      track.addEventListener('touchend', (e) => {
        const dx = e.changedTouches[0].clientX - sx;
        const dy = e.changedTouches[0].clientY - sy;
        if (isMobile() ? Math.abs(dy) > 60 : Math.abs(dx) > 60) {
          go((isMobile() ? dy : dx) > 0 ? -1 : 1);
        }
      }, { passive: true });
    }

    if (window.matchMedia('(max-width:767px)').matches && dotsBox) {
      dotsBox.style.display = 'none';
    }

    // Navigation buttons
    const prevBtn = document.getElementById('blog-nav-prev');
    const nextBtn = document.getElementById('blog-nav-next');
    if (prevBtn) {
      prevBtn.addEventListener('click', (e) => {
        e.preventDefault();
        e.stopPropagation();
        go(-1);
      });
    }
    if (nextBtn) {
      nextBtn.addEventListener('click', (e) => {
        e.preventDefault();
        e.stopPropagation();
        go(1);
      });
    }

    addEventListener('resize', () => {
      if (cards.length > 0 && current >= 0 && current < cards.length) {
        center(current);
      }
    });
    if (cards.length > 0) {
      toggleUI(0);
      updateNavButtons();
      center(0);
    }
  })();
</script>
